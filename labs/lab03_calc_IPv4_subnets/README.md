# Лабораторная работа №3. Расчет подсетей IPv4.

###  Задание:

Определение и расчет подсетей по IPv4-адресу

###  Решение:

В задании дается 6 проблем по опредлению параметров подсетей. Разберем подробно решение первой проблемы, а для остальных приведем только ответы.

Данные проблемы №1:

IP-адрес узла:
192.168.200.139
Исходная маска подсети:
255.255.255.0
Новая маска подсети:
255.255.255.224

####  1. Определение подсетей по IPv4-адресу.

Как я понял из задания, сначала нужно определить параметры исходной подсети по исходной маске, затем новой по новой. 

Поэтому сначала определим параметры подсети по исходной маске.

1. Количество бит подсети

В маске подсети биты, имеющие значение 1, определяют сетевую часть адреса, а имеющие 0 - узловую.

Каждый октет в маске подсети занимает 8 бит. Таким образом, если последний октет маски равен 0, то значит все 8 бит последнего октета равны 0 и количество единичных бит в маске подсети составляет: 32 - 8 = 24, где 32 - это общее количество бит в маске подсети (4 октета по 8 бит).

Таким образом количество бит данной подсети составляет **24**

2. Количество созданных подсетей

Этот пункт будет разобран для подсетей с новой маской. 

3. Количество бит узлов в подсети

В пункте 1 мы определили, что 8 последних бит маски составляют нулевые биты, таким образом, количество бит узлов в данной подсети - **8**. 

4. Количество узлов в подсети

Количество узлов в подсети можно вычислить по формуле геометической прогрессии и в упрощенном виде эта формула имеет следующий вид: 2^n, где n - это количество бит узловой части адреса.

Однако, следует учитывать, что это количество всех комбинаций адресов узлов в данной подсети, от которого мы должны отнять первый адрес идентификатора сети и последний адрес широковещания.

Таким образом количество узлов в данной подсети составляет (2^8)-2 = **254** узла

5. Сетевой адрес этой подсети

Сетевой адрес этой подсети - это адрес с 0 в узловой части адреса, то есть: **192.168.200.0**

6. IPv4-адрес первого узла в этой подсети

**192.168.200.1**

7. IPv4-адрес последнего узла в этой подсети

**192.168.200.254**

8. Широковещательный IPv4-адрес в этой подсети

**192.168.200.255**


Теперь применим к этой исходной подсети и адресу новую маску **255.255.255.248** и определим все те же параметры, но уже для подсети с новой маской.

1. Количество бит подсети

В последнем октете уже не 0, а 224. Переведем это десятичное число в двоичное. Для этого нужно разложить данное число на сумму чисел степеней двойки.

128 - 2^7 

64 - 2^6 

32 - 2^5 

16 - 2^4 

8 - 2^3 

4 - 2^2 

2 - 2^1 

1 - 2^0 


1*2^7 + 1*2^6 + 1*2^5 + 0*2^4 + 0*2^3 + 0*2^2 + 0*2^1 + 0*2^0 = 224 

Таким образом последний октет маски в двоичном виде будет следующим:

**11100000**

Из этого мы делаем вывод, что на сетевую часть адреса в последнем октете уходят 3 бита, а на узловую остается 5 бит.

И количество бит подсети тогда составляет 32 - 5 = **27 бит**


2. Количество созданных подсетей

Так как количество дополнительных бит, ушедших на адрес подсети, по сравнению со старой маской, составило: 8 - 5 = 3 бита, то количество комбинаций созданных подсетей составило 2^3 = **8**

3. Количество бит узлов в подсети

В пункте 1 мы определили, что количество бит узлов в данной подсети - 5.

4. Количество узлов в подсети

(2^5)-2 = **30** узлов.

5. Сетевой адрес этой подсети

Для того, чтобы определить сетевой адрес этой подсети, нам нужно перевести в двочный вид последний октет сетевого адреса:

1*2^7 + 0*2^6 + 0*2^5 + 0*2^4 + 1*2^3 + 0*2^2 + 1*2^1 + 1*2^0 = 139

**10001011**

Теперь заменяем последние 5 бит (узловую часть) в этом октете битовыми нулями, для того, чтобы получить значение идентификатора подсети, так как это адрес с 0 в узловой части адреса.

**10000000** = 128

Сетевой адрес этой подсети: **192.168.200.128**

6. IPv4-адрес первого узла в этой подсети

**192.168.200.129**

7. IPv4-адрес последнего узла в этой подсети

**10011110** = 158

**192.168.200.158**

8. Широковещательный IPv4-адрес в этой подсети

**10011111** = 159

**192.168.200.159**


Все вычисленные параметры в виде таблицы:

####  Проблема 1.

IP-адрес узла:
192.168.200.139
Исходная маска подсети:
255.255.255.0
Новая маска подсети:
255.255.255.224


Подсеть с исходной маской:

|Количество бит подсети                       	| 24               	|
|Количество созданных подсетей			| - 			|
|Количество бит узлов в подсети			| 8			|
|Количество узлов в подсети			| 254			|
|Сетевой адрес этой подсети			| 192.168.200.0/24	|
|IPv4-адрес первого узла в этой подсети		| 192.168.200.1		|
|IPv4-адрес последнего узла в этой подсети	| 192.168.200.254	|
|Широковещательный IPv4-адрес в этой подсети	| 192.168.200.255	|

Подсеть с новой маской:

|Количество бит подсети                       	| 27              	|
|Количество созданных подсетей			| 8               	|
|Количество бит узлов в подсети			| 5              	|
|Количество узлов в подсети			| 30              	|
|Сетевой адрес этой подсети			| 192.168.200.128/27    |
|IPv4-адрес первого узла в этой подсети		| 192.168.200.129       |
|IPv4-адрес последнего узла в этой подсети	| 192.168.200.158       |
|Широковещательный IPv4-адрес в этой подсети	| 192.168.200.159      	|


Далее произведем аналогичный расчет по всем остальным проблемам в задании (уже без подробных обьяснений):

####  Проблема 2:

IP-адрес узла:
10.101.99.228
Исходная маска подсети:
255.0.0.0
Новая маска подсети:
255.255.128.0


Подсеть с исходной маской:

|Количество бит подсети                       	| 8
|Количество созданных подсетей			| - 
|Количество бит узлов в подсети			| 24
|Количество узлов в подсети			| 16777214
|Сетевой адрес этой подсети			| 10.0.0.0/8
|IPv4-адрес первого узла в этой подсети		| 10.0.0.0.1
|IPv4-адрес последнего узла в этой подсети	| 10.255.255.254
|Широковещательный IPv4-адрес в этой подсети	| 10.255.255.255

Подсеть с новой маской:

|Количество бит подсети                       	| 17
|Количество созданных подсетей			| 512 
|Количество бит узлов в подсети			| 15
|Количество узлов в подсети			| 32766
|Сетевой адрес этой подсети			| 10.101.0.0/17
|IPv4-адрес первого узла в этой подсети		| 10.101.0.1
|IPv4-адрес последнего узла в этой подсети	| 10.101.127.254
|Широковещательный IPv4-адрес в этой подсети	| 10.101.127.255


####  Проблема 3:

IP-адрес узла:
172.22.32.12
Исходная маска подсети:
255.255.0.0
Новая маска подсети:
255.255.224.0


Подсеть с исходной маской:

|Количество бит подсети                       	| 16
|Количество созданных подсетей			| -
|Количество бит узлов в подсети			| 16
|Количество узлов в подсети			| 65534
|Сетевой адрес этой подсети			| 172.22.0.0/16
|IPv4-адрес первого узла в этой подсети		| 172.22.0.1
|IPv4-адрес последнего узла в этой подсети	| 172.22.255.254
|Широковещательный IPv4-адрес в этой подсети	| 172.22.255.255

Подсеть с новой маской:

|Количество бит подсети                       	| 19
|Количество созданных подсетей			| 8
|Количество бит узлов в подсети			| 13
|Количество узлов в подсети			| 8190
|Сетевой адрес этой подсети			| 172.22.32.0/19
|IPv4-адрес первого узла в этой подсети		| 172.22.32.1
|IPv4-адрес последнего узла в этой подсети	| 172.22.63.254
|Широковещательный IPv4-адрес в этой подсети	| 172.22.63.255

####  Проблема 4:

IP-адрес узла:
192.168.1.245
Исходная маска подсети:
255.255.255.0
Новая маска подсети:
255.255.255.252

Подсеть с исходной маской:

|Количество бит подсети                       	| 24
|Количество созданных подсетей			| -
|Количество бит узлов в подсети			| 8
|Количество узлов в подсети			| 254
|Сетевой адрес этой подсети			| 192.168.1.0/24
|IPv4-адрес первого узла в этой подсети		| 192.168.1.1
|IPv4-адрес последнего узла в этой подсети	| 192.168.1.254
|Широковещательный IPv4-адрес в этой подсети	| 192.168.1.255

Подсеть с новой маской:

|Количество бит подсети                       	| 30
|Количество созданных подсетей			| 64
|Количество бит узлов в подсети			| 2
|Количество узлов в подсети			| 2
|Сетевой адрес этой подсети			| 192.168.1.244/30
|IPv4-адрес первого узла в этой подсети		| 192.168.1.245
|IPv4-адрес последнего узла в этой подсети	| 192.168.1.246
|Широковещательный IPv4-адрес в этой подсети	| 192.168.1.247


####  Проблема 5:

IP-адрес узла:
128.107.0.55
Исходная маска подсети:
255.255.0.0
Новая маска подсети:
255.255.255.0

Подсеть с исходной маской:

|Количество бит подсети                       	| 16
|Количество созданных подсетей			| -
|Количество бит узлов в подсети			| 16
|Количество узлов в подсети			| 65534
|Сетевой адрес этой подсети			| 128.107.0.0/16
|IPv4-адрес первого узла в этой подсети		| 128.107.0.1
|IPv4-адрес последнего узла в этой подсети	| 128.107.255.254
|Широковещательный IPv4-адрес в этой подсети	| 128.107.255.255

Подсеть с новой маской:

|Количество бит подсети                       	| 24
|Количество созданных подсетей			| 256
|Количество бит узлов в подсети			| 8
|Количество узлов в подсети			| 254
|Сетевой адрес этой подсети			| 128.107.0.0/24
|IPv4-адрес первого узла в этой подсети		| 128.107.0.1
|IPv4-адрес последнего узла в этой подсети	| 128.107.0.254
|Широковещательный IPv4-адрес в этой подсети	| 128.107.0.255


####  Проблема 6:

IP-адрес узла:
192.135.250.180
Исходная маска подсети:
255.255.255.0
Новая маска подсети:
255.255.255.248


Подсеть с исходной маской:

|Количество бит подсети                       	| 24
|Количество созданных подсетей			| -
|Количество бит узлов в подсети			| 8
|Количество узлов в подсети			| 254
|Сетевой адрес этой подсети			| 192.135.250.0/24
|IPv4-адрес первого узла в этой подсети		| 192.135.250.1
|IPv4-адрес последнего узла в этой подсети	| 192.135.250.254
|Широковещательный IPv4-адрес в этой подсети	| 192.135.250.255

Подсеть с новой маской:

|Количество бит подсети                       	| 29
|Количество созданных подсетей			| 32
|Количество бит узлов в подсети			| 3
|Количество узлов в подсети			| 6
|Сетевой адрес этой подсети			| 192.135.250.176/29
|IPv4-адрес первого узла в этой подсети		| 192.135.250.177
|IPv4-адрес последнего узла в этой подсети	| 192.135.250.182
|Широковещательный IPv4-адрес в этой подсети	| 192.135.250.183

