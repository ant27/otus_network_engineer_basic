## Занятие 2. Физический уровень. Модель OSI 

Дата занятия: 04.03.21

###  Модуль 2 Cisco CCNA. Базовая конфигурация коммутатора и оконечного устройства.

#### Базовая настройка маршрутизатора.

Базовая настройка маршрутизатора практически совпадаетс с базовой настройкой коммутатора.
Но есть пара особенностей:
- порты маршрутизатора по умолчанию выключены и после настройки их нужно обязательно включить командой **no shutdown**
- физическим интерфейсам маршрутизатора можно и нужно задавать IP-адреса (в отличие от коммутатора, которому можно задать ip-адрес только виртуального интерфейса SVI) следующим образом
```
R1>enable
R1#config terminal
R1(config)#interface ge0/0/1
R1(config-if)#description Link to LAN
R1(config-if)#ip address 192.168.10.1 255.255.255.0
R1(config-if)#ipv6 address 2001:db8:acad:10::1/64
R1(config-if)#no shutdown
```

#### Команды просмотра настройки, состояния и статистики интерфейсов.

- Просмотр состояния интерфейсов
```
R1>enable
R1#show ip interface brief
R1#show ipv6 interface brief
```
- Просмотр статистики интерфейсов
```
R1>enable
R1#show interfaces
R1#show ip interfaces
R1#show ipv6 interfaces
```
- Просмотр таблицы маршрутизации сетевого устройства
```
R1>enable
R1#show ip route
R1#show ipv6 route 
```
- Настройка шлюза по умолчанию на коммутаторе:
```
S1>enable
S1#configure terminal
S1(config)#ip default-gateway 192.168.1.70
S1(config)#exit
S1(config)#
```

#### Принципы сетевых уровней. Физический уровень.

Существует 2 главных принципа сетевых уровней модели OSI.
Это абстракция и инкапсуляция.
Благодаря абстракции каждый уровень модели работает со своими сущностями - кадрами, сегментами, пакетами и ничего не знает про сущности на других уровнях.
Благодаря инкапсуляции передаваемые пользовательские данные на каждом уровню "обертываются" в соотвествующие слои для правильной передачи на данном уровне, а в конечном пункте производится деинкапсуляция. 

Инкапсуляция для пакета стека Ethernet/TCP/IP:
- Данные (Data)
- Сегмент протокола TCP
- IP пакет
- Кадр протокола Ethernet
- Набор электромагнитных импульсов, передающихся в физической среде между двумя NIC (Network Interface Card).

#### Уровни модели OSI

- Физический (среда передачи - витая пара, оптика)
- Канальный (протокол ethernet)
- Сетевой (протокол IP)
- Транспортный (протокол TCP)

#### Физический уровень модели OSI
1. Стандарты физического уровня уровня описывают:
- стандарты аппаратных компонентов
- кодирование сигнала (формат преобразования потока битов в формат, узнаваемый следующим устройством в сетевом пути, например, манчестерский код 4B/5B, 8B/10B)
- способы передачи сигналов

2. Методы сигнализации (способа передачи уровня битового 0 и 1)

-уровнем напряжения
-амплитудной модуляцией
-частотной модуляцией
-фазовой модуляцией

#### Полоса пропускания (bandwidth)

Полоса пропускания (пропускная сопсобность) - максимальный объем данных, который можно передать из одной точки в другую за определенное время.

Единицы пропускной способности: бит/с, Кбит/с, Мбит/с, Гбит/с, Тбит/с.

Задержка - количество времени, затрачиваемое на перемещение данных из из одной заданной точки в другую (преимущественно от одной сетевой карты до другой).
Задержку на интерфейсе можно посмотреть командой **show interfaces** - параметр **DLY**

Полезная пропускная способность (Goodput) - пропускная способность за вычетом накладных расходов на трафик (служебные данные)

#### Медная среда передачи

- Неэкранированная витая пара (UTP 8P/8C) разных категорий
- Экранированная витая пара  (STP 8P/8C) разных категорий
- Коаксиальный кабель

Типы коннекторов коаксиальных кабелей: NBC, N-type, F-type.

Особенности кабеля UTP: 
- шаг скручивания разных пар различаются для ограничения перекрестных помех.
- каждый провод в паре использует противоположную полрность для компенсации помех.

Стандарты UTP-кабелей:

- Категория 3 - 4х-жильный
- Категория 5 - 8-жильный (4х-парный) кабель с пропускной сопсобностью 100 Мбит/с
- Категория 5e - 8-жильный (4х-парный) кабель с пропускной сопсобностью до 1 Гбит/с
- Категория 6 - 8-жильный (4х-парный) кабель с экранированием каждой пары с пропускной сопсобностью 1 - 10 Гбит/с.

Стандарты последовательности жил в разъемах RJ-45 витой пары:
- Т568**А** - БЗ, З, БО, С, БС, О, БК, К
- Т568**B** - БО, О, БЗ, С, БС, З, БК, К
Примечание: при обжимке наиболее распространен стандарт Б

Прямая и перекрестная обжимка - устаревший способ соединения сетевых интерфейсов разных устройств:
- Прямой кабель - оба конца обжаты по А или Б стандарту - соединения конечного узла с сетевым устройством (разных типов устройств).
- Перекрестный кабель - один конец кабеля по А, другой по Б - соединения хост-хост, коммутатор-коммутатор, маршрутизатор-маршрутизатор (одинаковых типов устройств). 

Примечание: в данный момент подавляющее большинство сетевых карт используют Auto-MDIX для определения типа кабеля (однако при отключении данной функции на интерфейсе коммутатора возможно будут проблемы)


#### Оптоволоконная среда передачи

Типы оптоволоконных кабелей:
1. SMF (single mode fiber) - одномодовый оптоволоконный кабель
- используется для передачи сигнала на дальниие расстояния (десятки и сотни км)
- использует дорогие лазеры
- очень маленький сердечник
- сигнал распространяется вдоль волокна, что снижает затухание

2. MMF (multi mode fiber) - многомодовый оптоволоконный кабель
- более толстый сердечник
- используются дешевые светодиоды
- сигнал распространяется под разными углами к волокну, многократно отражаясь от его стенок
- максимальное расстояние передачи сигнала составляет примерно 550 м.
- Пропускная способность до 10Гбит/с.

Использование оптоволкна:
- Магистральные каналы корпоративных сетей 
- Оптоволокно до квартиры (GPON)
- Сети дальней связи провайдеров.

Разьемы оптоволоконных кабелей:
- Разьем ST (Straight-Tip) байонетного типа 
- Разьем SC (Subscriber Connector)
- Симплексный разъем LC (Lucent Connector)
- Дуплексный многомодовый разъем LC

Разъем LC самый распространенный.

Примечание: обычно желтый цвет изоляции оптоволоконных патч-кордов используется для одномодовых кабелей, а оранжевый (голубой) - для многомодовых.

#### Беспроводная среда передачи

Ограничения беспроводной среды передачи:
- малопредсказуемая и меняющаяся область покрытия
- большая восприимчивость к помехам
- повышенные требования к обеспечению безопасности из-за открытой для проcлушивания среды передачи
- работа сетей WAN в полудуплексном режиме с разделяемой средой передачи

Распространеннные стандарты беспроводной передачи данных:
- Wi-Fi (IEEE 802.11)
- Bluetooth (IEEE 802.15)
- WiMax(IEEE 802.16)
- Zigbee (IEEE 802.15.4)

Отличие беспроводного способа передачи данных от классического ethernet с общей средой передачи (доменом коллизий): существует точка доступа, которая выдает разрешение на передачу в отличие от классического ethernet, где устройства слушали эфир и самостоятельно начинали передачу в моменты тишины.
